<div class="modal-backdrop" *ngIf="visible">
  <div class="modal-card">
    <h4 class="modal-title">{{ titulo }}</h4>

    <form [formGroup]="form" (ngSubmit)="guardar()" class="formulario">
      <label class="field">
        <input
          formControlName="name"
          placeholder="Nombre"
          class="input-field"
          type="text"
        />
      </label>
      <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched" class="error">
        El nombre es obligatorio
      </div>

      <label class="field">
        <input
          formControlName="username"
          placeholder="Usuario"
          class="input-field"
          type="text"
        />
      </label>
      <div *ngIf="form.get('username')?.invalid && form.get('username')?.touched" class="error">
        El usuario es obligatorio
      </div>

      <label class="field">
        <input
          formControlName="email"
          placeholder="Correo"
          class="input-field"
          type="email"
        />
      </label>
      <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="error">
        <div *ngIf="form.get('email')?.errors?.['required']" class="error">El correo es obligatorio.</div>
        <div *ngIf="form.get('email')?.errors?.['email']" class="error">Formato de correo inv√°lido.</div>
      </div>

      <label class="field">
        <input
          formControlName="city"
          placeholder="Ciudad"
          class="input-field"
          type="text"
        />
      </label>
      <div *ngIf="form.get('city')?.invalid && form.get('city')?.touched" class="error">
        La ciudad es obligatoria
      </div>

      <div class="modal-footer">
        <button class="btn cancelar" type="button" (click)="cerrar()">Cancelar</button>
        <button class="btn guardar" type="submit" [disabled]="form.invalid">Guardar</button>
      </div>
    </form>
  </div>
</div>
